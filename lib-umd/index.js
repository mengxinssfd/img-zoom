!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ImgZoom=e():t.ImgZoom=e()}(this,(function(){return d=[function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"f",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return f})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return p}));var r=n(4),o=n.n(r),i=(e=n(2),n.n(e));r=n(5);function u(t,e){var n=null;return function(){for(var r=this,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];n&&(clearTimeout(n),n=null),n=setTimeout((function(){n=null,t.apply(r,i)}),e)}}function a(t){var e=i()(t);return"object"!==e?e:Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}n(1),n(3);e=["零","一","二","三","四","五","六","七","八","九"];var c=(n=[""].concat(r=["十","百","千"],["万"],r,["亿"])).length;function s(t,e){var n={};function r(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}return r(n,t),r(n,e),n}function f(t,e,n){var r=n||function(t){return t};return e.reduce((function(e,n){return t.hasOwnProperty(n)&&(e[n]=r(t[n],n,t)),e}),{})}function l(t,e){for(var n in t)if(t.hasOwnProperty(n)&&!1===e(t[n],n,t))return}function p(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach((function(e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})),t}(r=function t(e){var n=~~e,r="",o=0;if(0<=e&&e<10)return t.numbers[e];for(;1<=n&&o<c;){var i=t.units[o],u=t.numbers[n%10];u!==t.numbers[0]&&(r=i+r),1===n&&1===o||(r=u+r),n=~~(n/10),o++}return r.replace(/(零+$)|((零)\3+)/g,"$3")}).units=o()(n),r.numbers=[].concat(e),(r=function t(e){if(new RegExp("([^".concat(t.units.join()+t.numbers.join(),"])")).test(e))throw new TypeError("发现不符合规则的字符(必须在units和numbers里存在的字符):"+RegExp.$1);return e.split(new RegExp("[".concat(t.units[4]).concat(t.units[8],"]"),"g")).map((function(e){for(var n=0,r=1,o=e.length-1;-1<o;o--){var i=e[o],u=t.numbers.indexOf(i);0<u&&(n+=u*r),r=0<(i=t.units.indexOf(i))?Math.pow(10,i):r}return e[0]===t.units[1]&&(n+=10),n})).reverse().reduce((function(t,e,n){return t+Math.pow(1e4,n)*e}),0)}).units=o()(n),r.numbers=[].concat(e)},function(t,e,n){"use strict";n.d(e,"e",(function(){return u})),n.d(e,"a",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"c",(function(){return s})),n.d(e,"f",(function(){return f})),n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return p}));e=n(10),e=n(2);var r=n.n(e),o=n(3),i=n(0);function u(t){return"object"===Object(i.f)(t)}function a(t){return"array"===Object(i.f)(t)}function c(t){return"string"===Object(i.f)(t)}function s(t){return"function"===Object(i.f)(t)}function f(t){var e=r()(t);return!!t&&("object"===e||"function"===e)&&"function"==typeof t.then}function l(t){return function(t){return"number"===Object(i.f)(t)}(t)&&t!=t}function p(t){if(Object(o.c)([void 0,null,"",NaN],t))return!0;switch(Object(i.f)(t)){case"array":return!t.length;case"object":return function(t){if(!u(t))return!1;for(var e in t)return void 0===e;return!0}(t)}return!1}},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0,n(e)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return c}));e=n(4);var r=n(0),o=(n(11),n(1));function i(t){var e,n=void 0===(i=t.start)?0:i,o=t.end,i=t.len,u=t.fill,a=n;switch(i&&o?a=Math.min(n+i,o):(void 0!==i&&(a=n+i),void 0!==o&&(a=o)),Object(r.f)(u)){case"function":e=u;break;case"undefined":case"null":e=function(t){return t};break;default:e=function(t){return u}}for(var c=[],s=n,f=0;s<a;s++,f++)c.push(e(s,f));return c}function u(t,e){for(var n=e||this,r=[],o=n.length,i=0;i<o;i++){var u=n[i];t(u,i,n)&&r.push(u)}return r}function a(t,e){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=t||this,i=r.length,u=n;u<i;u++){var a=r[u];if("function"==typeof e){if(e(a,u,r))return!0}else if(a===e)return!0;if(Object(o.d)(a)&&Object(o.d)(e))return!0}return!1}function c(t,e){if(!t.length)return t;for(var n=e||function(t,e){return t===e},r=[],o=0;o<t.length;o++)!function(e){var o=t[e];r.some((function(t){return n(t,o)}))||r.push(o)}(o);return r}},function(t,e,n){var r=n(13),o=n(14),i=n(7),u=n(15);t.exports=function(t){return r(t)||o(t)||i(t)||u()},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){t.exports=n(16)},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var r=n(6);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t){if(null==t)throw new TypeError("Cannot destructure undefined")},t.exports.default=t.exports,t.exports.__esModule=!0},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return deepClone}));var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__),_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0);function cloneFunction(fn){return"function"!==Object(_common__WEBPACK_IMPORTED_MODULE_3__.f)(fn)?fn:(eval("newFn = "+fn.toString()),newFn);var newFn}var cloneStrategies=(on={array:function(t){return new t.constructor},function:function(t){return cloneFunction(t)},date:function(t){return new t.constructor(t)}},Object.assign(Object.assign({},on),{object:on.array,regexp:on.date})),on;function deepClone(t){var e=Object(_common__WEBPACK_IMPORTED_MODULE_3__.f)(t),n=cloneStrategies[e],r=n?n(t):t;if(-1===["object","array","function"].indexOf(e))return r;var o,i=t;for(o in i)i.hasOwnProperty(o)&&(r[o]=deepClone(i[o]));return r}function deepCloneBfs(t){if("object"!==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(t)||!t)return t;var e=new t.constructor,n=r(t,e);function r(t,e){var n,r=[];for(n in t)t.hasOwnProperty(n)&&r.push([n,t[n],e]);return r}for(;n.length;){var o=n.shift(),i=(u=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(o,3))[0],u=(o=u[1],u[2]);"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(o)?(void 0===u[i]&&(u[i]=new o.constructor),n.push.apply(n,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(r(o,u[i])))):u[i]=o}return e}},function(t,e,n){var r=n(17),o=n(18),i=n(7),u=n(19);t.exports=function(t,e){return r(t)||o(t,e)||i(t,e)||u()},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var r=n(6);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(n){c=function(t,e,n){return t[e]=n}}function s(t,n,r,o){var i,u,a,c;n=n&&n.prototype instanceof m?n:m,n=Object.create(n.prototype),o=new L(o||[]);return n._invoke=(i=t,u=r,a=o,c=l,function(t,n){if(c===d)throw new Error("Generator is already running");if(c===h){if("throw"===t)throw n;return M()}for(a.method=t,a.arg=n;;){var r=a.delegate;if(r){var o=function t(n,r){var o;if((o=n.iterator[r.method])===e){if(r.delegate=null,"throw"===r.method){if(n.iterator.return&&(r.method="return",r.arg=e,t(n,r),"throw"===r.method))return _;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}return"throw"===(o=f(o,n.iterator,r.arg)).type?(r.method="throw",r.arg=o.arg,r.delegate=null,_):(o=o.arg)?o.done?(r[n.resultName]=o.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,_):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,_)}(r,a);if(o){if(o===_)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(c===l)throw c=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);if(c=d,"normal"===(o=f(i,u,a)).type){if(c=a.done?h:p,o.arg!==_)return{value:o.arg,done:a.done}}else"throw"===o.type&&(c=h,a.method="throw",a.arg=o.arg)}}),n}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l="suspendedStart",p="suspendedYield",d="executing",h="completed",_={};function m(){}function v(){}function y(){}var b={};b[i]=function(){return this},(o=(o=Object.getPrototypeOf)&&o(o(j([]))))&&o!==n&&r.call(o,i)&&(b=o);var w=y.prototype=m.prototype=Object.create(b);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var n;this._invoke=function(o,i){function u(){return new e((function(n,u){!function n(o,i,u,a){if("throw"!==(o=f(t[o],t,i)).type){var c=o.arg;return(i=c.value)&&"object"==typeof i&&r.call(i,"__await")?e.resolve(i.__await).then((function(t){n("next",t,u,a)}),(function(t){n("throw",t,u,a)})):e.resolve(i).then((function(t){c.value=t,u(c)}),(function(t){return n("throw",t,u,a)}))}a(o.arg)}(o,i,n,u)}))}return n=n?n.then(u,u):u()}}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){if(n=t[i])return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n,o=-1;return(n=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n}).next=n}}return{next:M}}function M(){return{value:e,done:!0}}return((v.prototype=w.constructor=y).constructor=v).displayName=c(y,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,a,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},g(x.prototype),x.prototype[u]=function(){return this},t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var u=new x(s(e,n,r,o),i);return t.isGeneratorFunction(n)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},g(w),c(w,a,"Generator"),w[i]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e,n=[];for(e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=j,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return a.type="throw",a.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;0<=i;--i){var u=this.tryEntries[i],a=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=r.call(u,"catchLoc"),s=r.call(u,"finallyLoc");if(c&&s){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}var u=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,_):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r,o=n.completion;return"throw"===o.type&&(r=o.arg,O(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),_}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return g}));e=n(8);var r=n.n(e),o=(e=n(9),n.n(e)),i=(e=n(4),n.n(e)),u=(e=n(2),n.n(e)),a=n(3),c=n(0),s=n(1),f=document.createElement("div").style,l=function(){var t,e={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(t in e)if(void 0!==f[e[t]])return t;return!1}(),p="object"===("undefined"==typeof HTMLElement?"undefined":u()(HTMLElement))?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"===u()(t)&&1===t.nodeType&&"string"==typeof t.nodeName},d=document.documentElement.classList?function(t,e){var n;return(n=t.classList).add.apply(n,i()(Object(s.a)(e)?e:[e])),t.className}:function(t,e){var n=t.className,r=n.split(" ");return e=Object(s.a)(e)?e:[e],e=Object(a.d)(e),(e=Object(a.b)((function(t){return Object(a.c)(r,t)}),e)).length?(e=e.join(" "),t.className=n?n+" "+e:e,t.className):n};function h(t,e,n,r){return null!==(t=t?p(t)?t:document.querySelector(t):document.documentElement)&&(t.addEventListener(e,(function(t){t=t||window.event;var e=p(n)?[n]:Array.prototype.slice.call(document.querySelectorAll(n),0);Object(a.c)(e,t.target)&&r(t)})),1)}function _(t,e){var n=document.createElement(t);return Object(c.c)(e,(function(t,e,r){var o="object"===u()(t);"style"===e&&o?Object(c.c)(t,(function(t,e){n.style[e]=t})):n.setAttribute(e,o?JSON.stringify(t):t)})),n}var m,v="\n.img-zoom-wrapper {\n  z-index: 10000;\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n.img-zoom-wrapper.hide {\n  display: none;\n}\n.img-zoom-wrapper .img-zoom-view {\n  z-index: 1000000;\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  display: block;\n  width: auto;\n  height: auto;\n  user-select: none;\n  border: none;\n  outline: none;\n}\n".replace(/[\n\r]/g,""),y=!(m="transform")!==l&&("transform"===l?m:l+m.charAt(0).toUpperCase()+m.substr(1)),b={max:10,min:.1,step:.1,default:1},w={triggerImgClass:"img-zoom",isClickViewImgClose:!1},g=function(){function t(e){r()(this,t),this.options=Object(c.d)(JSON.parse(JSON.stringify(w)),e||{}),this.options.scale=Object(c.d)(b,this.options.scale||{});var n=(i=this.options.scale).min,o=i.max,i=(e=i.default,i.step);if(o<n)throw new Error("scale.max不能小于scale.min");if(e<n)throw new Error("scale.default不能小于scale.min");if(o<e)throw new Error("scale.default不能大于scale.max");if(n<=0)throw new Error("scale.min不能小于等于0");if(i<=0)throw new Error("scale.step不能小于等于0");o<i&&console.warn("scale.step已大于scale.max"),this.init()}return o()(t,[{key:"init",value:function(){this.initView(),this.addBodyEventListener()}},{key:"setImg",value:function(t){var e;this.scale=this.options.scale.default,this.zoomImg.src=t,t="hide",(e=this.wrapper).classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(\\s|$)","gi"),""),e.className,this.resetViewScaleAndPosition(),this.getViewPositionFromMatrix()}},{key:"addBodyEventListener",value:function(){var t=this,e=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return function(n){var r,o;e&&t.isSupportTouch()||(o=(o=(r=n.target).getAttribute("data-zoom-src"))||"IMG"!==r.nodeName?o:n.target.src)&&t.setImg(o)}},n="img"+(this.options.triggerImgClass?".":"")+this.options.triggerImgClass;h(null,"click",n,e()),h(null,"touchend",n,e(!0)),e=Object(c.b)((function(){t.resetViewScaleAndPosition(),t.getViewPositionFromMatrix()}),100),window.addEventListener("resize",e)}},{key:"resetViewScaleAndPosition",value:function(){this.zoomImg.style[y]="translate(-50%, -50%) scale(".concat(this.scale,")")}},{key:"getViewPosition",value:function(){var t=window.innerHeight||document.documentElement.clientHeight,e=window.innerWidth||document.documentElement.clientWidth,n=(r=this.zoomImg).offsetWidth,r=r.offsetHeight;this.left=(t-n)/2,this.top=(e-r)/2}},{key:"isSupportTouch",value:function(){return"ontouchstart"in window}},{key:"getZoomImgStyleMatrixVal",value:function(){var t=getComputedStyle(this.zoomImg)[y];return(/matrix\(([\d\\.,\- ]+)\)/.test(t)?RegExp.$1:"0,0,0,0,0,0").split(/, ?/)}},{key:"getViewPositionFromMatrix",value:function(){var t=this.getZoomImgStyleMatrixVal();this.left=Number(t[4])||0,this.top=Number(t[5])||0}},{key:"setViewScaleAndPosition",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.scale,n=this.getZoomImgStyleMatrixVal();n[0]=n[3]=e,n[4]=this.left,n[5]=this.top,this.zoomImg.style[y]="".concat(t&&this.isSupportTouch()?"translateZ(0) ":"","matrix(").concat(n.join(", "),")")}},{key:"initView",value:function(){var t=document.createElement("style");t.innerHTML=v;var e=_("div",{class:"img-zoom-wrapper hide"}),n=_("img",{class:"img-zoom-view",draggable:"false",ondragstart:"return false"});document.head.appendChild(t),e.appendChild(n),document.body.appendChild(e),this.zoomImg=n,this.wrapper=e,this.initViewEventListener()}},{key:"initViewEventListener",value:function(){function t(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return function(n){if(!t||!e.isSupportTouch())return d(e.wrapper,"hide"),n.stopPropagation(),n.preventDefault(),!1}}var e=this,n=this.wrapper,r=this.zoomImg;n.addEventListener("mouseup",t()),n.addEventListener("touchend",t(!0)),n.addEventListener("touchcancel",t(!0)),n.addEventListener("wheel",(function(t){t=t||window.event;var n=(o=e.options.scale).step,r=o.min,o=o.max;n=0<t.deltaY?-n:n;return(n=o<(n=e.scale+n)?o:n)<r&&(n=r),e.scale=n,e.setViewScaleAndPosition(),t.stopPropagation(),t.preventDefault(),!1})),function(t){var e=t.el,n=t.onDown,r=t.onMove,o=t.onUp,i=void 0===(t=t.capture)?{down:!1,up:!0,move:!1}:t;t=e;if(!p(e))if(Object(s.g)(e)){if(!(t=document.querySelector(e)))throw new Error("element not found!")}else t=window;var u,a={x:0,y:0},c={x:0,y:0};function f(t){return(t={x:t.screenX,y:t.screenY}).x=~~t.x,t.y=~~t.y,t}function l(t){return(t={x:(t=t.changedTouches[0]).clientX,y:t.clientY}).x=~~t.x,t.y=~~t.y,t}function d(t,e){return c=(u="mouse"===e?f:l)(t),a=c,e=void 0,n&&Object(s.c)(n)?n.call(this,t,c):e}function h(t){var e=u(t),n=void 0;return r&&Object(s.c)(r)&&(n=r.call(this,t,e,a,c)),a=e,n}function _(t){var e=u(t),n=void 0;return a=e,o&&Object(s.c)(o)&&(n=o.call(this,t,e,c)),window.removeEventListener("mousemove",h,i.move),window.removeEventListener("mouseup",_,i.up),window.removeEventListener("touchmove",h,i.move),window.removeEventListener("touchend",_,i.up),window.removeEventListener("touchcancel",_,i.up),n}t.addEventListener("mousedown",(function(t){return t=d.call(this,t,"mouse"),window.addEventListener("mousemove",h,i.move),window.addEventListener("mouseup",_,i.up),t}),i.down),t.addEventListener("touchstart",(function(t){return t=d.call(this,t,"touch"),window.addEventListener("touchmove",h,i.move),window.addEventListener("touchend",_,i.up),window.addEventListener("touchcancel",_,i.up),t}),i.down)}({el:r,onMove:function(t,n,r,o){var i=n.x;n=n.y,i=~~(i-r.x),r=~~(n-r.y);e.left+=i,e.top+=r,e.setViewScaleAndPosition(!0)},onUp:function(t,n,r){if(e.setViewScaleAndPosition(),!e.options.isClickViewImgClose||n.x!==r.x&&n.y!==r.y)return t.stopPropagation(),t.preventDefault(),!1},onDown:function(){console.log(arguments)}})}}]),t}()}],e={},f.m=d,f.c=e,f.d=function(t,e,n){f.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},f.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},f.t=function(t,e){if(1&e&&(t=f(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(f.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)f.d(n,r,function(e){return t[e]}.bind(null,r));return n},f.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return f.d(e,"a",e),e},f.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},f.p="",f(f.s=20).default;function f(t){if(e[t])return e[t].exports;var n=e[t]={i:t,l:!1,exports:{}};return d[t].call(n.exports,n,n.exports,f),n.l=!0,n.exports}var d,e}));